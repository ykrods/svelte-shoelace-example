import{f as t,g as e,_ as o,h as i,j as n,k as r,l as a,I as s,J as l,y as c,o as p,K as f}from"./main2.js";var h=t`
  ${e}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45ยบ. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;function u(t){return t.split("-")[1]}function d(t){return"y"===t?"height":"width"}function m(t){return t.split("-")[0]}function g(t){return["top","bottom"].includes(m(t))?"x":"y"}function y(t,e,o){let{reference:i,floating:n}=t;const r=i.x+i.width/2-n.width/2,a=i.y+i.height/2-n.height/2,s=g(e),l=d(s),c=i[l]/2-n[l]/2,p="x"===s;let f;switch(m(e)){case"top":f={x:r,y:i.y-n.height};break;case"bottom":f={x:r,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:a};break;case"left":f={x:i.x-n.width,y:a};break;default:f={x:i.x,y:i.y}}switch(u(e)){case"start":f[s]-=c*(o&&p?-1:1);break;case"end":f[s]+=c*(o&&p?-1:1)}return f}function w(t){return"number"!=typeof t?l({top:0,right:0,bottom:0,left:0},t):{top:t,right:t,bottom:t,left:t}}function b(t){return s(l({},t),{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}async function v(t,e){var o;void 0===e&&(e={});const{x:i,y:n,platform:r,rects:a,elements:c,strategy:p}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:u="floating",altBoundary:d=!1,padding:m=0}=e,g=w(m),y=c[d?"floating"===u?"reference":"floating":u],v=b(await r.getClippingRect({element:null==(o=await(null==r.isElement?void 0:r.isElement(y)))||o?y:y.contextElement||await(null==r.getDocumentElement?void 0:r.getDocumentElement(c.floating)),boundary:f,rootBoundary:h,strategy:p})),x="floating"===u?s(l({},a.floating),{x:i,y:n}):a.reference,P=await(null==r.getOffsetParent?void 0:r.getOffsetParent(c.floating)),E=await(null==r.isElement?void 0:r.isElement(P))&&await(null==r.getScale?void 0:r.getScale(P))||{x:1,y:1},z=b(r.convertOffsetParentRelativeRectToViewportRelativeRect?await r.convertOffsetParentRelativeRectToViewportRelativeRect({rect:x,offsetParent:P,strategy:p}):x);return{top:(v.top-z.top+g.top)/E.y,bottom:(z.bottom-v.bottom+g.bottom)/E.y,left:(v.left-z.left+g.left)/E.x,right:(z.right-v.right+g.right)/E.x}}var x=Math.min,P=Math.max;function E(t,e,o){return P(t,x(e,o))}["top","right","bottom","left"].reduce(((t,e)=>t.concat(e,e+"-start",e+"-end")),[]);var z={left:"right",right:"left",bottom:"top",top:"bottom"};function A(t){return t.replace(/left|right|bottom|top/g,(t=>z[t]))}var R={start:"end",end:"start"};function S(t){return t.replace(/start|end/g,(t=>R[t]))}var k=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var o;const{placement:i,middlewareData:n,rects:r,initialPlacement:a,platform:s,elements:l}=e,c=t,{mainAxis:p=!0,crossAxis:h=!0,fallbackPlacements:y,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:x=!0}=c,P=f(c,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]),E=m(i),z=m(a)===a,R=await(null==s.isRTL?void 0:s.isRTL(l.floating)),k=y||(z||!x?[A(a)]:function(t){const e=A(t);return[S(t),e,S(e)]}(a));y||"none"===b||k.push(...function(t,e,o,i){const n=u(t);let r=function(t,e,o){const i=["left","right"],n=["right","left"],r=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return o?e?n:i:e?i:n;case"left":case"right":return e?r:a;default:return[]}}(m(t),"start"===o,i);return n&&(r=r.map((t=>t+"-"+n)),e&&(r=r.concat(r.map(S)))),r}(a,x,b,R));const L=[a,...k],T=await v(e,P),C=[];let B=(null==(o=n.flip)?void 0:o.overflows)||[];if(p&&C.push(T[E]),h){const{main:t,cross:e}=function(t,e,o){void 0===o&&(o=!1);const i=u(t),n=g(t),r=d(n);let a="x"===n?i===(o?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[r]>e.floating[r]&&(a=A(a)),{main:a,cross:A(a)}}(i,r,R);C.push(T[t],T[e])}if(B=[...B,{placement:i,overflows:C}],!C.every((t=>t<=0))){var O,D;const t=((null==(O=n.flip)?void 0:O.index)||0)+1,e=L[t];if(e)return{data:{index:t,overflows:B},reset:{placement:e}};let o=null==(D=B.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:D.placement;if(!o)switch(w){case"bestFit":{var F;const t=null==(F=B.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:F[0];t&&(o=t);break}case"initialPlacement":o=a}if(i!==o)return{reset:{placement:o}}}return{}}}};var L=function(t){return void 0===t&&(t={}),{name:"size",options:t,async fn(e){const{placement:o,rects:i,platform:n,elements:r}=e,a=t,{apply:c=(()=>{})}=a,p=f(a,["apply"]),h=await v(e,p),d=m(o),y=u(o),w="x"===g(o),{width:b,height:E}=i.floating;let z,A;"top"===d||"bottom"===d?(z=d,A=y===(await(null==n.isRTL?void 0:n.isRTL(r.floating))?"start":"end")?"left":"right"):(A=d,z="end"===y?"top":"bottom");const R=E-h[z],S=b-h[A];let k=R,L=S;if(w?L=x(b-h.right-h.left,S):k=x(E-h.bottom-h.top,R),!e.middlewareData.shift&&!y){const t=P(h.left,0),e=P(h.right,0),o=P(h.top,0),i=P(h.bottom,0);w?L=b-2*(0!==t||0!==e?t+e:P(h.left,h.right)):k=E-2*(0!==o||0!==i?o+i:P(h.top,h.bottom))}await c(s(l({},e),{availableWidth:L,availableHeight:k}));const T=await n.getDimensions(r.floating);return b!==T.width||E!==T.height?{reset:{rects:!0}}:{}}}};function T(t){var e;return(null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function C(t){return T(t).getComputedStyle(t)}var B,O=Math.min,D=Math.max,F=Math.round;function N(t){const e=C(t);let o=parseFloat(e.width),i=parseFloat(e.height);const n=t.offsetWidth,r=t.offsetHeight,a=F(o)!==n||F(i)!==r;return a&&(o=n,i=r),{width:o,height:i,fallback:a}}function $(t){return V(t)?(t.nodeName||"").toLowerCase():""}function W(){if(B)return B;const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?B=t.brands.map((t=>t.brand+"/"+t.version)).join(" "):navigator.userAgent}function H(t){return t instanceof T(t).HTMLElement}function j(t){return t instanceof T(t).Element}function V(t){return t instanceof T(t).Node}function _(t){return"undefined"!=typeof ShadowRoot&&(t instanceof T(t).ShadowRoot||t instanceof ShadowRoot)}function M(t){const{overflow:e,overflowX:o,overflowY:i,display:n}=C(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+o)&&!["inline","contents"].includes(n)}function q(t){return["table","td","th"].includes($(t))}function I(t){const e=/firefox/i.test(W()),o=C(t),i=o.backdropFilter||o.WebkitBackdropFilter;return"none"!==o.transform||"none"!==o.perspective||!!i&&"none"!==i||e&&"filter"===o.willChange||e&&!!o.filter&&"none"!==o.filter||["transform","perspective"].some((t=>o.willChange.includes(t)))||["paint","layout","strict","content"].some((t=>{const e=o.contain;return null!=e&&e.includes(t)}))}function Y(){return/^((?!chrome|android).)*safari/i.test(W())}function X(t){return["html","body","#document"].includes($(t))}function J(t){return j(t)?t:t.contextElement}var K={x:1,y:1};function G(t){const e=J(t);if(!H(e))return K;const o=e.getBoundingClientRect(),{width:i,height:n,fallback:r}=N(e);let a=(r?F(o.width):o.width)/i,s=(r?F(o.height):o.height)/n;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}function Q(t,e,o,i){var n,r;void 0===e&&(e=!1),void 0===o&&(o=!1);const a=t.getBoundingClientRect(),s=J(t);let l=K;e&&(i?j(i)&&(l=G(i)):l=G(t));const c=s?T(s):window,p=Y()&&o;let f=(a.left+(p&&(null==(n=c.visualViewport)?void 0:n.offsetLeft)||0))/l.x,h=(a.top+(p&&(null==(r=c.visualViewport)?void 0:r.offsetTop)||0))/l.y,u=a.width/l.x,d=a.height/l.y;if(s){const t=T(s),e=i&&j(i)?T(i):i;let o=t.frameElement;for(;o&&i&&e!==t;){const t=G(o),e=o.getBoundingClientRect(),i=getComputedStyle(o);e.x+=(o.clientLeft+parseFloat(i.paddingLeft))*t.x,e.y+=(o.clientTop+parseFloat(i.paddingTop))*t.y,f*=t.x,h*=t.y,u*=t.x,d*=t.y,f+=e.x,h+=e.y,o=T(o).frameElement}}return{width:u,height:d,top:h,right:f+u,bottom:h+d,left:f,x:f,y:h}}function U(t){return((V(t)?t.ownerDocument:t.document)||window.document).documentElement}function Z(t){return j(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function tt(t){return Q(U(t)).left+Z(t).scrollLeft}function et(t){if("html"===$(t))return t;const e=t.assignedSlot||t.parentNode||_(t)&&t.host||U(t);return _(e)?e.host:e}function ot(t){const e=et(t);return X(e)?e.ownerDocument.body:H(e)&&M(e)?e:ot(e)}function it(t,e){var o;void 0===e&&(e=[]);const i=ot(t),n=i===(null==(o=t.ownerDocument)?void 0:o.body),r=T(i);return n?e.concat(r,r.visualViewport||[],M(i)?i:[]):e.concat(i,it(i))}function nt(t,e,o){let i;if("viewport"===e)i=function(t,e){const o=T(t),i=U(t),n=o.visualViewport;let r=i.clientWidth,a=i.clientHeight,s=0,l=0;if(n){r=n.width,a=n.height;const t=Y();(!t||t&&"fixed"===e)&&(s=n.offsetLeft,l=n.offsetTop)}return{width:r,height:a,x:s,y:l}}(t,o);else if("document"===e)i=function(t){const e=U(t),o=Z(t),i=t.ownerDocument.body,n=D(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),r=D(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let a=-o.scrollLeft+tt(t);const s=-o.scrollTop;return"rtl"===C(i).direction&&(a+=D(e.clientWidth,i.clientWidth)-n),{width:n,height:r,x:a,y:s}}(U(t));else if(j(e))i=function(t,e){const o=Q(t,!0,"fixed"===e),i=o.top+t.clientTop,n=o.left+t.clientLeft,r=H(t)?G(t):{x:1,y:1};return{width:t.clientWidth*r.x,height:t.clientHeight*r.y,x:n*r.x,y:i*r.y}}(e,o);else{const o=l({},e);if(Y()){var n,r;const e=T(t);o.x-=(null==(n=e.visualViewport)?void 0:n.offsetLeft)||0,o.y-=(null==(r=e.visualViewport)?void 0:r.offsetTop)||0}i=o}return b(i)}function rt(t,e){return H(t)&&"fixed"!==C(t).position?e?e(t):t.offsetParent:null}function at(t,e){const o=T(t);let i=rt(t,e);for(;i&&q(i)&&"static"===C(i).position;)i=rt(i,e);return i&&("html"===$(i)||"body"===$(i)&&"static"===C(i).position&&!I(i))?o:i||function(t){let e=et(t);for(;H(e)&&!X(e);){if(I(e))return e;e=et(e)}return null}(t)||o}function st(t,e,o){const i=H(e),n=U(e),r=Q(t,!0,"fixed"===o,e);let a={scrollLeft:0,scrollTop:0};const s={x:0,y:0};if(i||!i&&"fixed"!==o)if(("body"!==$(e)||M(n))&&(a=Z(e)),H(e)){const t=Q(e,!0);s.x=t.x+e.clientLeft,s.y=t.y+e.clientTop}else n&&(s.x=tt(n));return{x:r.left+a.scrollLeft-s.x,y:r.top+a.scrollTop-s.y,width:r.width,height:r.height}}var lt={getClippingRect:function(t){let{element:e,boundary:o,rootBoundary:i,strategy:n}=t;const r=[..."clippingAncestors"===o?function(t,e){const o=e.get(t);if(o)return o;let i=it(t).filter((t=>j(t)&&"body"!==$(t))),n=null;const r="fixed"===C(t).position;let a=r?et(t):t;for(;j(a)&&!X(a);){const t=C(a),e=I(a);"fixed"===t.position?n=null:(r?e||n:e||"static"!==t.position||!n||!["absolute","fixed"].includes(n.position))?n=t:i=i.filter((t=>t!==a)),a=et(a)}return e.set(t,i),i}(e,this._c):[].concat(o),i],a=r[0],s=r.reduce(((t,o)=>{const i=nt(e,o,n);return t.top=D(i.top,t.top),t.right=O(i.right,t.right),t.bottom=O(i.bottom,t.bottom),t.left=D(i.left,t.left),t}),nt(e,a,n));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:o,strategy:i}=t;const n=H(o),r=U(o);if(o===r)return e;let a={scrollLeft:0,scrollTop:0},s={x:1,y:1};const l={x:0,y:0};if((n||!n&&"fixed"!==i)&&(("body"!==$(o)||M(r))&&(a=Z(o)),H(o))){const t=Q(o);s=G(o),l.x=t.x+o.clientLeft,l.y=t.y+o.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-a.scrollLeft*s.x+l.x,y:e.y*s.y-a.scrollTop*s.y+l.y}},isElement:j,getDimensions:function(t){return H(t)?N(t):t.getBoundingClientRect()},getOffsetParent:at,getDocumentElement:U,getScale:G,async getElementRects(t){let{reference:e,floating:o,strategy:i}=t;const n=this.getOffsetParent||at,r=this.getDimensions;return{reference:st(e,await n(o),i),floating:l({x:0,y:0},await r(o))}},getClientRects:t=>Array.from(t.getClientRects()),isRTL:t=>"rtl"===C(t).direction};var ct=(t,e,o)=>{const i=new Map,n=l({platform:lt},o),r=s(l({},n.platform),{_c:i});return(async(t,e,o)=>{const{placement:i="bottom",strategy:n="absolute",middleware:r=[],platform:a}=o,c=r.filter(Boolean),p=await(null==a.isRTL?void 0:a.isRTL(e));let f=await a.getElementRects({reference:t,floating:e,strategy:n}),{x:h,y:u}=y(f,i,p),d=i,m={},g=0;for(let o=0;o<c.length;o++){const{name:r,fn:w}=c[o],{x:b,y:v,data:x,reset:P}=await w({x:h,y:u,initialPlacement:i,placement:d,strategy:n,middlewareData:m,rects:f,platform:a,elements:{reference:t,floating:e}});h=null!=b?b:h,u=null!=v?v:u,m=s(l({},m),{[r]:l(l({},m[r]),x)}),P&&g<=50&&(g++,"object"==typeof P&&(P.placement&&(d=P.placement),P.rects&&(f=!0===P.rects?await a.getElementRects({reference:t,floating:e,strategy:n}):P.rects),({x:h,y:u}=y(f,d,p))),o=-1)}return{x:h,y:u,placement:d,strategy:n,middlewareData:m}})(t,e,s(l({},n),{platform:r}))};function pt(t){return function(t){for(let e=t;e;e=ft(e))if(e instanceof Element&&"none"===getComputedStyle(e).display)return null;for(let e=ft(t);e;e=ft(e)){if(!(e instanceof Element))continue;const t=getComputedStyle(e);if("contents"!==t.display){if("static"!==t.position||"none"!==t.filter)return e;if("BODY"===e.tagName)return e}}return null}(t)}function ft(t){return t.assignedSlot?t.assignedSlot:t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}var ht=class extends a{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(t){super.updated(t),t.has("active")&&(this.active?this.start():this.stop()),t.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&"string"==typeof this.anchor){const t=this.getRootNode();this.anchorEl=t.getElementById(this.anchor)}else this.anchor instanceof Element?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){this.anchorEl&&(this.cleanup=function(t,e,o,i){void 0===i&&(i={});const{ancestorScroll:n=!0,ancestorResize:r=!0,elementResize:a=!0,animationFrame:s=!1}=i,l=n&&!s,c=l||r?[...j(t)?it(t):t.contextElement?it(t.contextElement):[],...it(e)]:[];c.forEach((t=>{l&&t.addEventListener("scroll",o,{passive:!0}),r&&t.addEventListener("resize",o)}));let p,f=null;if(a){let i=!0;f=new ResizeObserver((()=>{i||o(),i=!1})),j(t)&&!s&&f.observe(t),j(t)||!t.contextElement||s||f.observe(t.contextElement),f.observe(e)}let h=s?Q(t):null;return s&&function e(){const i=Q(t);!h||i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height||o(),h=i,p=requestAnimationFrame(e)}(),o(),()=>{var t;c.forEach((t=>{l&&t.removeEventListener("scroll",o),r&&t.removeEventListener("resize",o)})),null==(t=f)||t.disconnect(),f=null,s&&cancelAnimationFrame(p)}}(this.anchorEl,this.popup,(()=>{this.reposition()})))}async stop(){return new Promise((t=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame((()=>t()))):t()}))}reposition(){if(!this.active||!this.anchorEl)return;const t=[(e={mainAxis:this.distance,crossAxis:this.skidding},void 0===e&&(e=0),{name:"offset",options:e,async fn(t){const{x:o,y:i}=t,n=await async function(t,e){const{placement:o,platform:i,elements:n}=t,r=await(null==i.isRTL?void 0:i.isRTL(n.floating)),a=m(o),s=u(o),c="x"===g(o),p=["left","top"].includes(a)?-1:1,f=r&&c?-1:1,h="function"==typeof e?e(t):e;let{mainAxis:d,crossAxis:y,alignmentAxis:w}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:l({mainAxis:0,crossAxis:0,alignmentAxis:null},h);return s&&"number"==typeof w&&(y="end"===s?-1*w:w),c?{x:y*f,y:d*p}:{x:d*p,y:y*f}}(t,e);return{x:o+n.x,y:i+n.y,data:n}}})];var e,o,i;this.sync?t.push(L({apply:({rects:t})=>{const e="width"===this.sync||"both"===this.sync,o="height"===this.sync||"both"===this.sync;this.popup.style.width=e?`${t.reference.width}px`:"",this.popup.style.height=o?`${t.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&t.push(k({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:"best-fit"===this.flipFallbackStrategy?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&t.push((void 0===(o={boundary:this.shiftBoundary,padding:this.shiftPadding})&&(o={}),{name:"shift",options:o,async fn(t){const{x:e,y:i,placement:n}=t,r=o,{mainAxis:a=!0,crossAxis:c=!1,limiter:p={fn:t=>{let{x:e,y:o}=t;return{x:e,y:o}}}}=r,h=f(r,["mainAxis","crossAxis","limiter"]),u={x:e,y:i},d=await v(t,h),y=g(m(n)),w=function(t){return"x"===t?"y":"x"}(y);let b=u[y],x=u[w];if(a){const t="y"===y?"bottom":"right";b=E(b+d["y"===y?"top":"left"],b,b-d[t])}if(c){const t="y"===w?"bottom":"right";x=E(x+d["y"===w?"top":"left"],x,x-d[t])}const P=p.fn(s(l({},t),{[y]:b,[w]:x}));return s(l({},P),{data:{x:P.x-e,y:P.y-i}})}})),this.autoSize?t.push(L({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:t,availableHeight:e})=>{"vertical"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-height",`${e}px`):this.style.removeProperty("--auto-size-available-height"),"horizontal"===this.autoSize||"both"===this.autoSize?this.style.setProperty("--auto-size-available-width",`${t}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&t.push({name:"arrow",options:i={element:this.arrowEl,padding:this.arrowPadding},async fn(t){const{element:e,padding:o=0}=i||{},{x:n,y:r,placement:a,rects:s,platform:l}=t;if(null==e)return{};const c=w(o),p={x:n,y:r},f=g(a),h=d(f),m=await l.getDimensions(e),y="y"===f?"top":"left",b="y"===f?"bottom":"right",v=s.reference[h]+s.reference[f]-p[f]-s.floating[h],x=p[f]-s.reference[f],P=await(null==l.getOffsetParent?void 0:l.getOffsetParent(e));let z=P?"y"===f?P.clientHeight||0:P.clientWidth||0:0;0===z&&(z=s.floating[h]);const A=v/2-x/2,R=c[y],S=z-m[h]-c[b],k=z/2-m[h]/2+A,L=E(R,k,S),T=null!=u(a)&&k!=L&&s.reference[h]/2-(k<R?c[y]:c[b])-m[h]/2<0;return{[f]:p[f]-(T?k<R?R-k:S-k:0),data:{[f]:L,centerOffset:k-L}}}});const n="absolute"===this.strategy?t=>lt.getOffsetParent(t,pt):lt.getOffsetParent;ct(this.anchorEl,this.popup,{placement:this.placement,middleware:t,strategy:this.strategy,platform:s(l({},lt),{getOffsetParent:n})}).then((({x:t,y:e,middlewareData:o,placement:i})=>{const n="rtl"===getComputedStyle(this).direction,r={top:"bottom",right:"left",bottom:"top",left:"right"}[i.split("-")[0]];if(this.setAttribute("data-current-placement",i),Object.assign(this.popup.style,{left:`${t}px`,top:`${e}px`}),this.arrow){const t=o.arrow.x,e=o.arrow.y;let i="",a="",s="",l="";if("start"===this.arrowPlacement){const o="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";i="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",a=n?o:"",l=n?"":o}else if("end"===this.arrowPlacement){const o="number"==typeof t?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";a=n?"":o,l=n?o:"",s="number"==typeof e?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else"center"===this.arrowPlacement?(l="number"==typeof t?"calc(50% - var(--arrow-size-diagonal))":"",i="number"==typeof e?"calc(50% - var(--arrow-size-diagonal))":""):(l="number"==typeof t?`${t}px`:"",i="number"==typeof e?`${e}px`:"");Object.assign(this.arrowEl.style,{top:i,right:a,bottom:s,left:l,[r]:"calc(var(--arrow-size-diagonal) * -1)"})}})),this.emit("sl-reposition")}render(){return c`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${p({popup:!0,"popup--active":this.active,"popup--fixed":"fixed"===this.strategy,"popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?c`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};ht.styles=h,o([i(".popup")],ht.prototype,"popup",2),o([i(".popup__arrow")],ht.prototype,"arrowEl",2),o([n()],ht.prototype,"anchor",2),o([n({type:Boolean,reflect:!0})],ht.prototype,"active",2),o([n({reflect:!0})],ht.prototype,"placement",2),o([n({reflect:!0})],ht.prototype,"strategy",2),o([n({type:Number})],ht.prototype,"distance",2),o([n({type:Number})],ht.prototype,"skidding",2),o([n({type:Boolean})],ht.prototype,"arrow",2),o([n({attribute:"arrow-placement"})],ht.prototype,"arrowPlacement",2),o([n({attribute:"arrow-padding",type:Number})],ht.prototype,"arrowPadding",2),o([n({type:Boolean})],ht.prototype,"flip",2),o([n({attribute:"flip-fallback-placements",converter:{fromAttribute:t=>t.split(" ").map((t=>t.trim())).filter((t=>""!==t)),toAttribute:t=>t.join(" ")}})],ht.prototype,"flipFallbackPlacements",2),o([n({attribute:"flip-fallback-strategy"})],ht.prototype,"flipFallbackStrategy",2),o([n({type:Object})],ht.prototype,"flipBoundary",2),o([n({attribute:"flip-padding",type:Number})],ht.prototype,"flipPadding",2),o([n({type:Boolean})],ht.prototype,"shift",2),o([n({type:Object})],ht.prototype,"shiftBoundary",2),o([n({attribute:"shift-padding",type:Number})],ht.prototype,"shiftPadding",2),o([n({attribute:"auto-size"})],ht.prototype,"autoSize",2),o([n()],ht.prototype,"sync",2),o([n({type:Object})],ht.prototype,"autoSizeBoundary",2),o([n({attribute:"auto-size-padding",type:Number})],ht.prototype,"autoSizePadding",2),ht=o([r("sl-popup")],ht);
